#服务端口
SERVER_PORT=5001

#Timezone
TZ=Asia/Shanghai

#大模型供应商配置,支持 deepseek, openai,zhipuai,qwen 和 ollama
LLM_PROVIDER=deepseek

#DeepSeek settings
DEEPSEEK_API_KEY=sk-7f956efd0c864fd5b7b9260fc7ca459c
DEEPSEEK_API_BASE_URL=https://api.deepseek.com
DEEPSEEK_API_MODEL=deepseek-chat

#OpenAI settings
OPENAI_API_KEY=EMPTY
OPENAI_API_BASE_URL=http://127.0.0.1:9997/v1
OPENAI_API_MODEL=Llama2-Chinese-13b-Chat-ms

#ZhipuAI settings
ZHIPUAI_API_KEY=xxxx
ZHIPUAI_API_MODEL=GLM-4-Flash

#Qwen settings
QWEN_API_KEY=sk-xxx
QWEN_API_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_API_MODEL=qwen-coder-plus

#OllaMA settings; 注意: 如果使用 Docker 部署，127.0.0.1 指向的是容器内部的地址。请将其替换为实际的 Ollama服务器IP地址。
#OLLAMA_API_BASE_URL=http://127.0.0.1:11434
OLLAMA_API_BASE_URL=http://host.docker.internal:11434
OLLAMA_API_MODEL=deepseek-r1:latest

# 模型温度控制 (0.0-2.0)
# 0.0-0.3: 确定性高，适合代码审查
# 0.4-0.7: 平衡创造性和一致性  
# 0.8-2.0: 创造性高，输出更随机
LLM_TEMPERATURE=0.3

#支持review的文件类型
SUPPORTED_EXTENSIONS=.c,.cc,.cpp,.css,.go,.h,.java,.js,.jsx,.ts,.tsx,.md,.php,.py,.sql,.vue,.yml,.html
#每次 Review 的最大 Token 限制（超出部分自动截断）
REVIEW_MAX_TOKENS=30000
#Review 风格选项：professional（专业） | sarcastic（毒舌） | gentle（温和） | humorous（幽默）
REVIEW_STYLE=professional

#钉钉配置
DINGTALK_ENABLED=0
DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=xxx

#企业微信配置
WECOM_ENABLED=0
WECOM_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx

#飞书配置
FEISHU_ENABLED=0
FEISHU_WEBHOOK_URL=https://open.feishu.cn/open-apis/bot/v2/hook/xxx

#日志配置
LOG_FILE=log/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=3
LOG_LEVEL=DEBUG

#工作日报发送时间
REPORT_CRONTAB_EXPRESSION=0 18 * * 1-5

#Gitlab配置
#GITLAB_URL={YOUR_GITLAB_URL} #部分老版本Gitlab webhook不传递URL，需要开启此配置，示例：https://gitlab.example.com
GITLAB_ACCESS_TOKEN=glpat-sxihr4Ee_qym9QEqu6GW #系统会优先使用此GITLAB_ACCESS_TOKEN，如果未配置，则使用Webhook 传递的Secret Token

#Github配置(如果使用 Github 作为代码托管平台，需要配置此项)
#GITHUB_ACCESS_TOKEN={YOUR_GITHUB_ACCESS_TOKEN}

# 开启Push Review功能(如果不需要push事件触发Code Review，设置为0)
PUSH_REVIEW_ENABLED=1

# Dashboard登录用户名和密码
DASHBOARD_USER=admin
DASHBOARD_PASSWORD=wengqian

# queue (async, rq)
QUEUE_DRIVER=async
REDIS_HOST=redis
# REDIS_HOST=127.0.0.1
# REDIS_PORT=6379

# gitlab domain slugged
WORKER_QUEUE=git_test_com

# RAG功能配置
ENABLE_RAG=1
# 1表示启用RAG，0表示使用原有审查方式

# 知识库配置  
KNOWLEDGE_BASE_PATH=data/knowledge_base
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
SEARCH_RESULTS_LIMIT=5
RAG_SIMILARITY_THRESHOLD=0.2
AUTO_INIT_BUILTIN_KNOWLEDGE=0

# HMAC-SHA256 签名
SECRET_KEY=fac8cf149bdd616c07c1a675c4571ccacc40d7f7fe16914cfe0f9f9d966bb773
