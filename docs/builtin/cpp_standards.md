# C++编码规范

**C++代码规范 | CPP编程标准 | C++最佳实践 | C++代码审查**

C++编程语言的编码规范和最佳实践指南，适用于代码审查和质量控制。

---

## 1. 命名规范

### 1.1 通用规则
- 使用有意义的名称
- 避免缩写（除非广泛使用）
- 保持一致性

### 1.2 具体规范
**类名**：使用PascalCase，如TaskManager、ResourceHandler
**函数名**：使用camelCase，如processTask、isValid
**变量名**：使用camelCase，如itemCount、firstName
**常量**：使用UPPER_SNAKE_CASE，如MAX_ITEMS、PI
**命名空间**：使用小写字母，如utils、database

## 2. 内存管理

### 2.1 智能指针
**原则**：优先使用智能指针，避免裸指针

**unique_ptr**：管理独占资源，不能被拷贝
**shared_ptr**：管理共享资源，支持引用计数

**最佳实践**：
- 使用std::make_unique和std::make_shared
- 避免使用裸指针
- 注意避免循环引用

### 2.2 RAII原则
**原则**：构造函数获取资源，析构函数释放资源

**移动语义**：使用移动构造函数和移动赋值运算符提高性能

## 3. 现代C++特性

### 3.1 auto关键字
**规范**：在类型明显时使用auto，提高可读性

**最佳实践**：
- 避免过度使用auto
- 在lambda表达式和模板中使用

### 3.2 范围for循环
**使用**：简化容器遍历，提高可读性

### 3.3 Lambda表达式
**使用**：创建匿名函数，适用于函数对象场景

**规范**：
- 使用auto接收lambda表达式
- 合理使用捕获列表
- 避免捕获大对象

## 4. 异常处理

### 4.1 异常安全
**保证**：函数提供异常安全保证，保持程序状态一致

**策略**：
- 使用RAII管理资源
- 避免析构函数抛出异常
- 使用智能指针避免泄漏

### 4.2 异常处理最佳实践
**原则**：
- 只对异常情况使用异常处理
- 提供有意义异常信息
- 使用适当异常类型
- 避免影响性能

## 5. 模板编程

### 5.1 函数模板
**设计**：实现泛型编程，提高代码复用性

**最佳实践**：
- 使用概念约束模板参数
- 避免过度复杂模板元编程
- 提供清晰错误信息

### 5.2 类模板
**设计**：提供类型安全的泛型容器和算法

## 6. 并发编程

### 6.1 线程安全
**设计**：确保共享数据访问线程安全

**策略**：
- 使用std::mutex保护共享数据
- 使用std::atomic进行原子操作
- 避免数据竞争和死锁

### 6.2 异步编程
**模式**：使用std::future和std::async

**最佳实践**：
- 合理使用异步操作
- 避免过度使用线程
- 使用线程池管理资源