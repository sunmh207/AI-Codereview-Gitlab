# AIä»£ç å®¡æŸ¥å¹³å° - Vue3å‰ç«¯

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue3 + TypeScript + Element Plus çš„å‰ç«¯åº”ç”¨ï¼Œå®ç°äº†ä¸åŸå§‹ `ui.py` Streamlit åº”ç”¨ç›¸åŒçš„åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**ï¼šç™»å½•/ç™»å‡ºï¼Œæ”¯æŒè®°ä½å¯†ç 
- ğŸ“Š **æ•°æ®å±•ç¤º**ï¼šåˆå¹¶è¯·æ±‚(MR)å’Œä»£ç æ¨é€(Push)çš„å®¡æŸ¥æ—¥å¿—
- ğŸ” **æ•°æ®ç­›é€‰**ï¼šæŒ‰æ—¥æœŸèŒƒå›´ã€å¼€å‘è€…ã€é¡¹ç›®åç§°ç­›é€‰
- ğŸ“ˆ **ç»Ÿè®¡å›¾è¡¨**ï¼šé¡¹ç›®æäº¤ç»Ÿè®¡ã€é¡¹ç›®å¹³å‡å¾—åˆ†ã€å¼€å‘è€…æäº¤ç»Ÿè®¡ã€å¼€å‘è€…å¹³å‡å¾—åˆ†ã€ä»£ç å˜æ›´è¡Œæ•°
- ğŸ“‹ **è¯¦æƒ…æŸ¥çœ‹**ï¼šæŸ¥çœ‹ commit è¯¦æƒ…çš„æ¨¡æ€æ¡†
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸

## æŠ€æœ¯æ ˆ

- **Vue 3** - æ¸è¿›å¼ JavaScript æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Element Plus** - Vue 3 ç»„ä»¶åº“
- **Vue Router** - å®˜æ–¹è·¯ç”±ç®¡ç†å™¨
- **Pinia** - çŠ¶æ€ç®¡ç†
- **ECharts** - æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Vite** - ç°ä»£åŒ–æ„å»ºå·¥å…·

## é¡¹ç›®ç»“æ„

```
vue-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API æ¥å£
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Charts.vue       # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CommitModal.vue  # Commitè¯¦æƒ…æ¨¡æ€æ¡†
â”‚   â”‚   â””â”€â”€ DataTable.vue    # æ•°æ®è¡¨æ ¼ç»„ä»¶
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ auth.ts          # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ auth.ts          # è®¤è¯å·¥å…·
â”‚   â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue    # ä¸»ä»ªè¡¨æ¿
â”‚   â”‚   â””â”€â”€ Login.vue        # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts              # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html               # HTML æ¨¡æ¿
â”œâ”€â”€ package.json             # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## å®‰è£…å’Œè¿è¡Œ

### 1. å®‰è£…ä¾èµ–

```bash
cd vue-frontend
npm install
```

### 2. å¼€å‘æ¨¡å¼è¿è¡Œ

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist/` ç›®å½•ã€‚

### 4. é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

## é…ç½®è¯´æ˜

### ä»£ç†é…ç½®

åœ¨ `vite.config.ts` ä¸­é…ç½®äº† API ä»£ç†ï¼Œå°† `/api` è·¯å¾„çš„è¯·æ±‚ä»£ç†åˆ°åç«¯æœåŠ¡å™¨ï¼š

```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:5001',
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, ''),
    },
  },
}
```

### è®¤è¯é…ç½®

åœ¨ `src/stores/auth.ts` ä¸­é…ç½®ç”¨æˆ·å‡­æ®ï¼š

```typescript
const USER_CREDENTIALS = {
  admin: 'admin' // é»˜è®¤ç”¨æˆ·åå’Œå¯†ç 
}
```

## API æ¥å£

ç›®å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…éƒ¨ç½²æ—¶éœ€è¦åç«¯æä¾›ä»¥ä¸‹ REST API æ¥å£ï¼š

- `GET /api/mr-logs` - è·å–åˆå¹¶è¯·æ±‚æ—¥å¿—
- `GET /api/push-logs` - è·å–æ¨é€æ—¥å¿—
- `GET /api/projects` - è·å–é¡¹ç›®åˆ—è¡¨
- `GET /api/authors` - è·å–å¼€å‘è€…åˆ—è¡¨

## ä¸åŸå§‹ ui.py çš„å¯¹åº”å…³ç³»

| åŸå§‹åŠŸèƒ½ | Vue3 å®ç° |
|---------|-----------|
| Streamlit ç™»å½•é¡µé¢ | `src/views/Login.vue` |
| Streamlit ä¸»é¡µé¢ | `src/views/Dashboard.vue` |
| æ•°æ®è¡¨æ ¼å±•ç¤º | `src/components/DataTable.vue` |
| ç»Ÿè®¡å›¾è¡¨ | `src/components/Charts.vue` |
| Commitè¯¦æƒ…æ¨¡æ€æ¡† | `src/components/CommitModal.vue` |
| ç”¨æˆ·è®¤è¯ | `src/stores/auth.ts` + `src/utils/auth.ts` |
| æ•°æ®è·å– | `src/api/index.ts` |

## éƒ¨ç½²å»ºè®®

1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨ `npm run dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼š
   - è¿è¡Œ `npm run build` æ„å»ºé¡¹ç›®
   - å°† `dist/` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginxï¼‰
   - é…ç½®åå‘ä»£ç†å°† API è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡

## æ³¨æ„äº‹é¡¹

1. å½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œéœ€è¦åç«¯æä¾›ç›¸åº”çš„ REST API æ¥å£
2. è®¤è¯æœºåˆ¶ä¸åŸå§‹ Python ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ HMAC-SHA256 ç­¾å
3. å›¾è¡¨åº“ä½¿ç”¨ EChartsï¼Œæä¾›ä¸°å¯Œçš„äº¤äº’åŠŸèƒ½
4. å“åº”å¼è®¾è®¡é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯

## å¼€å‘è¯´æ˜

- ä½¿ç”¨ TypeScript æä¾›ç±»å‹å®‰å…¨
- ä½¿ç”¨ Element Plus ç»„ä»¶åº“ä¿è¯ UI ä¸€è‡´æ€§
- ä½¿ç”¨ Pinia è¿›è¡ŒçŠ¶æ€ç®¡ç†
- ä½¿ç”¨ Vue Router è¿›è¡Œè·¯ç”±ç®¡ç†
- ä½¿ç”¨ Vite æä¾›å¿«é€Ÿçš„å¼€å‘ä½“éªŒ
